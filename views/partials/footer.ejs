<% if(footer){ %>
</div>
    <div class="footer text-zinc-950 dark:text-white flex items-center md:h-[100vh] md:w-[10vw] fixed z-[10] bg-gradient-to-b from-white via-white to-gray-100 dark:from-zinc-950 dark:via-zinc-900 dark:to-zinc-800 px-3 py-5 transition-all duration-300 ease-in-out">
        <a href="/feed" class="flex flex-col md:mt-8 items-center hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200"><i class="text-[1.8rem] md:text-[2rem] ri-home-line"></i><span class="text-sm mt-1 hidden md:inline">Home</span></a>
        <a href="/search" class="flex flex-col md:mt-8 items-center hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200"><i class="text-[1.8rem] md:text-[2rem] ri-search-line"></i><span class="text-sm mt-1 hidden md:inline">Search</span></a>
        <a href="/upload" class="flex flex-col md:mt-8 items-center hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200"><i class="text-[1.8rem] md:text-[2rem] ri-add-box-line"></i><span class="text-sm mt-1 hidden md:inline">Upload</span></a>
        <a href="/reel" class="flex flex-col md:mt-8 items-center block dark:hidden hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200"><i class="text-[1.8rem] md:text-[2rem] ri-movie-2-line"></i><span class="text-sm mt-1 hidden md:inline">Reels</span></a>
        <a href="/reel" class="flex flex-col md:mt-8 items-center hidden dark:block hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200">
          <div class="w-6 h-6 rounded-full overflow-hidden">
            <img class="h-full w-full object-cover object-center" src="https://ik.imagekit.io/yashyadav/icons8-reels-50.png?updatedAt=1717705368926" alt="" srcset="">
          </div>
          <span class="text-sm mt-1 hidden items-center md:inline">Reels</span>
        </a>
        <a href="/profile" class="flex flex-col md:mt-8 items-center hover:text-blue-500 dark:hover:text-blue-400 transition-colors duration-200">
          <div class="w-6 h-6 md:w-10 md:h-10 bg-zinc-300 rounded-full overflow-hidden">
            <img class="h-full w-full object-cover object-center" src="<%= user.profileImage %>" alt="" srcset="">
          </div>
          <span class="text-sm mt-1 hidden md:inline">Profile</span>
        </a>
    </div>
<% } %>
<script>

document.addEventListener("DOMContentLoaded", function () {
  const lazyVideos = document.querySelectorAll("video.lazy-video");

  if ("IntersectionObserver" in window) {
    const videoObserver = new IntersectionObserver(function (entries, observer) {
      entries.forEach(function (entry) {
        if (entry.isIntersecting) {
          const video = entry.target;
          video.querySelector("source").src = video.dataset.src;
          video.load();
          video.classList.remove("lazy-video");
          videoObserver.unobserve(video);
        }
      });
    });

    lazyVideos.forEach(function (video) {
      videoObserver.observe(video);
    });
  }
});

  
document.addEventListener("DOMContentLoaded", function(event) { 
    var scrollpos = localStorage.getItem('scrollpos');
    if (scrollpos) window.scrollTo(0, scrollpos);
});

window.onbeforeunload = function(e) {
    localStorage.setItem('scrollpos', window.scrollY);
};

// Responsive footer
function adjustFooter() {
  const footer = document.querySelector('.footer');
  if (window.innerWidth <= 768) {
    footer.classList.remove('left-0', 'top-1/2', '-translate-y-1/2', 'flex-col');
    footer.classList.add('bottom-0', 'w-full', 'flex-row', 'justify-around');
  } else {
    footer.classList.add('left-0', 'top-1/2', '-translate-y-1/2', 'flex-col');
    footer.classList.remove('bottom-0', 'w-full', 'flex-row', 'justify-around');
  }
}

window.addEventListener('resize', adjustFooter);
adjustFooter(); // Call on initial load
</script>

</body>
</html>